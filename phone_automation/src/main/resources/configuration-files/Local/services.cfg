EXTERNAL_DOCKER_REGISTRY="artidocker.frequentis.frq"
LOCAL_DOCKER_REGISTRY="deploymentserver.frequentis.frq:5000"

ETCD="dockerhost1 dockerhost2 dockerhost3"
ETCD_CMD="docker run --restart=always --cap-drop all -u 900:900 -d --name etcd --dns=172.17.42.1 -p 2379:2379 -p 2380:2380 -h ${HOSTNAME,,} $LOCAL_DOCKER_REGISTRY/xvp/etcd:0.6.0"

DISCOVERY_SERVICE="dockerhost1 dockerhost2 dockerhost3"
DISCOVERY_SERVICE_CMD="docker run --restart=always --cap-drop all -u 900:900 -d -p 9900:9900 -p 8800:8800 --name discovery-service --dns=172.17.42.1 -e LOG=syslog://$(hostname -i):1514 -e DOCKER_HOST=${HOSTNAME,,}:2375 -e ETCD_ADR=${HOSTNAME,,}:2379 -e HOST=$(hostname -i) -e HTTP_PORT=8800 -e TTL=30 $LOCAL_DOCKER_REGISTRY/xvp/discovery-service:0.6.0"

RABBITMQ="dockerhost1 dockerhost2 dockerhost3"
RABBITMQ_CMD="docker run --restart=always --cap-drop all -u 900:900 -d --name=rabbitmq --dns=172.17.42.1 -e ETCD_ADR=172.17.42.1 -p 5672:5672 -p 15672:15672 -p 35197:35197 -p 4370:4370 -p 25672:25672 -h ${HOSTNAME,,}  $LOCAL_DOCKER_REGISTRY/xvp/rabbitmq:0.6.0"

CASSANDRA="dockerhost1 dockerhost2 dockerhost3"
CASSANDRA_CMD="docker run --restart=always --cap-drop all -u 900:900 -d --name=cassandra --net=host -p 7000 -p 7001 -p 9042:9042 -p 9160 -e ETCDCTL_ENDPOINT=$(hostname -i):2379 -e CASSANDRA_BROADCAST_ADDRESS='auto' -e CASSANDRA_CLUSTER_NAME=freqxvp -e CASSANDRA_SEEDS=dockerhost1,dockerhost2,dockerhost3 $LOCAL_DOCKER_REGISTRY/xvp/cassandra:0.6.1"

CONFIGURATION_MANAGEMENT="dockerhost3"
CONFIGURATION_MANAGEMENT_CMD="docker run --restart=always --cap-drop all -u 900:900 -d -p 8801:8801 -p 8803:8803 --name configuration-management -e XVP_DISABLED_ACTIVATORS=orchestration,infrastructure -e XVP_SYSTEM='192.168.56.10' --dns=172.17.42.1 -v configuration-management-configuration:/var/opt/frequentis/xvp/configuration -v configuration-management-configurators:/var/opt/frequentis/xvp/configurators -v /etc/opt/frequentis/xvp-deployment:/etc/opt/frequentis/xvp-deployment:ro $LOCAL_DOCKER_REGISTRY/xvp/configuration-management-service:0.5.2"

MISSION_SERVICE="dockerhost1 dockerhost2"
MISSION_SERVICE_CMD="docker run --restart=always -d -p 8002:8002 --name mission-service -e XVP_SERVICE_NAME=mission-service -e XVP_DISCOVERY_ADDRESS=$(hostname -i):8800 -e etcd.service.mission-service.ttl='30' $LOCAL_DOCKER_REGISTRY/xvp/mission-service:0.3.0-QXVP-5062-SNAPSHOT"

PHONE_ROUTING="deploymentserver"
PHONE_ROUTING_CMD="docker run --net=host -p 5060:5060/udp -p 5060:5060/tcp -v /root/ggtest/kamailiocfg:/etc/kamailio -v /dev/log:/dev/log -d --name phone-routing --dns=172.17.42.1 $LOCAL_DOCKER_REGISTRY/xvp-voice/phone-routing-service:0.0.1-SNAPSHOT"

OP_VOICE01="dockerhost1"
OP_VOICE01_CMD="docker run -e XVP_AUDIO_SERVICES=A=ws://192.168.56.11:5674/ctrlif -e HACK_AUDIOAPP_ENDPOINT_URI=ws://192.168.56.10:5674/ctrlif   -e XVP_SERVICE_NAME=op-voice-service -e XVP_SERVICE_PARTITION_KEY=op03 -e XVP_DISCOVERY_ADDRESS=$(hostname -i):8800 -e TONES_AUTO_TEST=false -e etcd.service.op-voice-service-op03.ttl=2 --name op-voice01 --net=host -p 8080:8080/tcp -p 5060:5060/udp -d --dns=172.17.42.1 -v /tmp/testfiles:/tmp/testfiles -v /root/ggtest/properties:/op-voice-service/properties $LOCAL_DOCKER_REGISTRY/xvp-voice/op-voice-service:${op_voice_version}"

OP_VOICE02="dockerhost2"
OP_VOICE02_CMD="docker run -e XVP_AUDIO_SERVICES=A=ws://192.168.56.12:5674/ctrlif -e HACK_AUDIOAPP_ENDPOINT_URI=ws://192.168.56.13:5674/ctrlif  -e XVP_SERVICE_NAME=op-voice-service -e XVP_SERVICE_PARTITION_KEY=op04 -e XVP_DISCOVERY_ADDRESS=$(hostname -i):8800 -e TONES_AUTO_TEST=false -e etcd.service.op-voice-service-op04.ttl=2 --name op-voice02 --net=host -p 8080:8080/tcp -p 5060:5060/udp -d --dns=172.17.42.1 -v /tmp/testfiles:/tmp/testfiles -v /root/ggtest/properties:/op-voice-service/properties $LOCAL_DOCKER_REGISTRY/xvp-voice/op-voice-service:${op_voice_version}"

AUDIO_SERVICE="dockerhost1 dockerhost2"
AUDIO_SERVICE_CMD="docker run --name audio-service -v /root/ggtest/audiocfg:/opt/frequentis/etc/ --device=/dev/snd:/dev/snd --net=host -d --dns=172.17.42.1 $LOCAL_DOCKER_REGISTRY/fcsc-audio/xvp-audio-service:0.0.1-SNAPSHOT"

AUDIO_APP="deploymentserver dockerhost3"
AUDIO_APP_CMD="docker run --name audio-app -v /var/log/frequentis:/var/log/frequentis -v /root/ggtest/audiocfg:/opt/frequentis/etc/ --device=/dev/snd:/dev/snd --net=host -d --dns=172.17.42.1 $LOCAL_DOCKER_REGISTRY/fcsc-audio/xvp-audio-service-wb:0.0.1-SNAPSHOT"
