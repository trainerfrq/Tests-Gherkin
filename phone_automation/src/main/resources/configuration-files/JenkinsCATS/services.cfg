EXTERNAL_DOCKER_REGISTRY="artidocker.frequentis.frq"
LOCAL_DOCKER_REGISTRY="DEP-VST02-10.frequentis.frq:5000"

ETCD="DOC-VST02-11 DOC-VST02-12 DOC-VST02-13"
ETCD_CMD="docker run --restart=always --cap-drop all -u 900:900 -d --name etcd --dns=172.17.42.1 -p 2379:2379 -p 2380:2380 -h ${HOSTNAME,,} $LOCAL_DOCKER_REGISTRY/xvp/etcd:0.6.0"

DISCOVERY_SERVICE="DOC-VST02-11 DOC-VST02-12 DOC-VST02-13"
DISCOVERY_SERVICE_CMD="docker run --restart=always --cap-drop all -u 900:900 -d -p 9900:9900 -p 8800:8800 --name discovery-service --dns=172.17.42.1 -e LOG=syslog://$(hostname -i):1514 -e DOCKER_HOST=${HOSTNAME,,}:2375 -e ETCD_ADR=${HOSTNAME,,}:2379 -e HOST=$(hostname -i) -e HTTP_PORT=8800 -e TTL=30 $LOCAL_DOCKER_REGISTRY/xvp/discovery-service:0.6.0"

RABBITMQ="DOC-VST02-11 DOC-VST02-12 DOC-VST02-13"
RABBITMQ_CMD="docker run --restart=always --cap-drop all -u 900:900 -d --name=rabbitmq --dns=172.17.42.1 -e ETCD_ADR=172.17.42.1 -p 5672:5672 -p 15672:15672 -p 35197:35197 -p 4370:4370 -p 25672:25672 -h ${HOSTNAME,,}  $LOCAL_DOCKER_REGISTRY/xvp/rabbitmq:0.6.0"

CASSANDRA="DOC-VST02-11 DOC-VST02-12 DOC-VST02-13"
CASSANDRA_CMD="docker run --restart=always --cap-drop all -u 900:900 -d --name=cassandra --net=host -p 7000 -p 7001 -p 9042:9042 -p 9160 -e ETCDCTL_ENDPOINT=$(hostname -i):2379 -e CASSANDRA_BROADCAST_ADDRESS='auto' -e CASSANDRA_CLUSTER_NAME=freqxvp -e CASSANDRA_SEEDS=DOC-VST02-11,DOC-VST02-12,DOC-VST02-13 $LOCAL_DOCKER_REGISTRY/xvp/cassandra:0.6.1"

CONFIGURATION_MANAGEMENT="DOC-VST02-13"
CONFIGURATION_MANAGEMENT_CMD="docker run --restart=always --cap-drop all -u 900:900 -d -p 8801:8801 -p 8803:8803 --name configuration-management -e XVP_DISABLED_ACTIVATORS=orchestration,infrastructure -e XVP_SYSTEM='10.17.15.40' --dns=172.17.42.1 -v configuration-management-configuration:/var/opt/frequentis/xvp/configuration -v configuration-management-configurators:/var/opt/frequentis/xvp/configurators -v /etc/opt/frequentis/xvp-deployment:/etc/opt/frequentis/xvp-deployment:ro $LOCAL_DOCKER_REGISTRY/xvp/configuration-management-service:0.5.2"

ELASTIC="DEP-VST02-10"
ELASTIC_CMD="docker run --restart=always --cap-drop all -u 900:900 -d -p 9200:9200 --name elastic $LOCAL_DOCKER_REGISTRY/xvp/elasticsearch:0.5.0"

LOGSTASH="DEP-VST02-10"
LOGSTASH_CMD="docker run --restart=always --cap-drop all -u 900:900 -d -p 9210:9210 --name logstash --link elastic:elastic  $LOCAL_DOCKER_REGISTRY/xvp/logstash:0.5.0"

KIBANA="DEP-VST02-10"
KIBANA_CMD="docker run --restart=always --cap-drop all -u 900:900 -d -p 5601:5601 --name kibana --link elastic:elastic  $LOCAL_DOCKER_REGISTRY/xvp/kibana:0.5.0"

POSTGRES_ZABBIX="DEP-VST02-10"
POSTGRES_ZABBIX_CMD="docker run --restart=always --cap-drop all -u 900:900 -d -e 'PG_USER=zabbix' -e 'PG_PASS=zabbix' --name postgres-zabbix -p 5432:5432 $LOCAL_DOCKER_REGISTRY/xvp/postgres:0.2.0"

ZABBIX_SERVER="DEP-VST02-10"
ZABBIX_SERVER_CMD="docker run --restart=always --cap-drop all --cap-add net_raw -u 900:900 -d -p 10052:10051 -e "DB_HOST=$(hostname)" -e 'DB_USER=zabbix' -e 'DB_PASSWORD=zabbix' -e 'DB_NAME=zabbix' --name zabbix-server --net=host $LOCAL_DOCKER_REGISTRY/xvp/zabbix-server:0.2.0"

ZABBIX_WEB="DEP-VST02-10"
ZABBIX_WEB_CMD="docker run --restart=always --cap-drop all --cap-add net_bind_service -u 900:900 -d -p 8085:8085 -e 'LISTEN_PORT=8085' --add-host "$(hostname):$(hostname -i)" -e "ZABBIX_SERVER_HOST=$(hostname)" -e "PG_HOST=$(hostname)" -e 'PG_USER=zabbix' -e 'PG_PASS=zabbix' -e 'PG_DB=zabbix' --link postgres-zabbix --name zabbix-web $LOCAL_DOCKER_REGISTRY/xvp/zabbix-web:0.2.0"

MISSION_SERVICE="DOC-VST02-11 DOC-VST02-12"
MISSION_SERVICE_CMD="docker run --restart=always -d -p 8002:8002 --name mission-service -e XVP_SERVICE_NAME=mission-service -e XVP_DISCOVERY_ADDRESS=$(hostname -i):8800 -e etcd.service.mission-service.ttl='30' $LOCAL_DOCKER_REGISTRY/xvp/mission-service:0.3.0-QXVP-5062-SNAPSHOT"

PHONE_ROUTING="DEP-VST02-10"
PHONE_ROUTING_CMD="docker run --net=host -p 5060:5060/udp -p 5060:5060/tcp -v /root/ggtest/kamailiocfg:/etc/kamailio -v /dev/log:/dev/log -d --name phone-routing --dns=172.17.42.1 $LOCAL_DOCKER_REGISTRY/xvp-voice/phone-routing-service:0.0.1-SNAPSHOT"

OP_VOICE01="DOC-VST02-11"
OP_VOICE01_CMD="docker run -e XVP_AUDIO_SERVICES=A=ws://10.17.15.41:5674/ctrlif -e HACK_AUDIOAPP_ENDPOINT_URI=ws://10.17.15.44:5674/ctrlif  -e XVP_SERVICE_NAME=op-voice-service -e XVP_SERVICE_PARTITION_KEY=op03 -e XVP_DISCOVERY_ADDRESS=$(hostname -i):8800 -e TONES_AUTO_TEST=false -e etcd.service.op-voice-service-op03.ttl=2 --name op-voice01 --net=host -p 8080:8080/tcp -p 5060:5060/udp -d --dns=172.17.42.1 -v /tmp/testfiles:/tmp/testfiles -v /root/ggtest/properties:/op-voice-service/properties $LOCAL_DOCKER_REGISTRY/xvp-voice/op-voice-service:${op_voice_version}"

OP_VOICE02="DOC-VST02-12"
OP_VOICE02_CMD="docker run -e XVP_AUDIO_SERVICES=A=ws://10.17.15.42:5674/ctrlif -e HACK_AUDIOAPP_ENDPOINT_URI=ws://10.17.15.45:5674/ctrlif  -e XVP_SERVICE_NAME=op-voice-service -e XVP_SERVICE_PARTITION_KEY=op04 -e XVP_DISCOVERY_ADDRESS=$(hostname -i):8800 -e TONES_AUTO_TEST=false -e etcd.service.op-voice-service-op04.ttl=2 --name op-voice02 --net=host -p 8080:8080/tcp -p 5060:5060/udp -d --dns=172.17.42.1 -v /tmp/testfiles:/tmp/testfiles -v /root/ggtest/properties:/op-voice-service/properties $LOCAL_DOCKER_REGISTRY/xvp-voice/op-voice-service:${op_voice_version}"

OP_VOICE03="DOC-VST02-13"
OP_VOICE03_CMD="docker run -e XVP_AUDIO_SERVICES=A=ws://10.17.15.43:5674/ctrlif -e HACK_AUDIOAPP_ENDPOINT_URI=ws://10.17.15.46:5674/ctrlif  -e XVP_SERVICE_NAME=op-voice-service -e XVP_SERVICE_PARTITION_KEY=op05 -e XVP_DISCOVERY_ADDRESS=$(hostname -i):8800 -e TONES_AUTO_TEST=false -e etcd.service.op-voice-service-op05.ttl=2 --name op-voice03 --net=host -p 8080:8080/tcp -p 5060:5060/udp -d --dns=172.17.42.1 -v /tmp/testfiles:/tmp/testfiles -v /root/ggtest/properties:/op-voice-service/properties $LOCAL_DOCKER_REGISTRY/xvp-voice/op-voice-service:${op_voice_version}"

AUDIO_SERVICE="DOC-VST02-11 DOC-VST02-12 DOC-VST02-13"
AUDIO_SERVICE_CMD="docker run --name audio-service -v /root/ggtest/audiocfg:/opt/frequentis/etc/ --device=/dev/snd:/dev/snd --net=host -d --dns=172.17.42.1 $LOCAL_DOCKER_REGISTRY/fcsc-audio/xvp-audio-service:0.0.1-SNAPSHOT"

AUDIO_APP="CWP-VST02-14 CWP-VST02-15 CWP-VST02-16"
AUDIO_APP_CMD="docker run --name audio-app -v /var/log/frequentis:/var/log/frequentis -v /root/ggtest/audiocfg:/opt/frequentis/etc/ --device=/dev/snd:/dev/snd --net=host -d --dns=172.17.42.1 $LOCAL_DOCKER_REGISTRY/fcsc-audio/xvp-audio-service-wb:0.0.1-SNAPSHOT"

AUDIO_SERVICE="DOC-VST02-11 DOC-VST02-12 DOC-VST02-13"
AUDIO_SERVICE_CMD="docker run --name audio-service -v /root/ggtest/audiocfg:/opt/frequentis/etc/ --device=/dev/snd:/dev/snd --net=host -d --dns=172.17.42.1 $LOCAL_DOCKER_REGISTRY/fcsc-audio/xvp-audio-service:0.2.0-working"

AUDIO_APP01="CWP-VST02-14"
AUDIO_APP01_CMD="docker run --name audio-app01 -e NET_DATA=10.17.15.44 -e NET_AUDIO=10.17.15.44 -v  /var/log/frequentis:/var/log/frequentis -v /root/audiocfg:/opt/frequentis/etc/ --device=/dev/snd:/dev/snd --net=host -d --dns=172.17.42.1 $LOCAL_DOCKER_REGISTRY/fcsc-audio/xvp-audio-service:0.2.0-working"

AUDIO_APP02="CWP-VST02-15"
AUDIO_APP02_CMD="docker run --name audio-app02 -e NET_DATA=10.17.15.45 -e NET_AUDIO=10.17.15.45 -v  /var/log/frequentis:/var/log/frequentis -v /root/audiocfg:/opt/frequenti/etc/ --device=/dev/snd:/dev/snd --net=host -d --dns=172.17.42.1 $LOCAL_DOCKER_REGISTRY/fcsc-audio/xvp-audio-service:0.2.0-working"

AUDIO_APP03="CWP-VST02-16"
AUDIO_APP03_CMD="docker run --name audio-app03 -e NET_DATA=10.17.15.46 -e NET_AUDIO=10.17.15.46 -v  /var/log/frequentis:/var/log/frequentis -v /root/audiocfg:/opt/frequenti/etc/ --device=/dev/snd:/dev/snd --net=host -d --dns=172.17.42.1 $LOCAL_DOCKER_REGISTRY/fcsc-audio/xvp-audio-service:0.2.0-working"

VOICE_HMI03="CWP-VST02-14"
VOICE_HMI03_CMD="docker run --name voice-hmi03 --net=host -ti -e XVP_APP_ID=voiceapp -e OP_ID=op03 -v sharedVolume:/opt/frequentis/shared -v /usr/lib64/dri:/usr/lib64/dri  -v /lib64/libLLVM-3.6-mesa.so:/lib64/libLLVM-3.6-mesa.so -v /tmp/.X11-unix/:/tmp/.X11-unix -e DISPLAY=:0 -e XVP_DISCOVERY_ADDRESS=DOC-VST02-13:8800 -d --dns=172.17.42.1 $LOCAL_DOCKER_REGISTRY/xvp-voice/voice-hmi-service:${voice_hmi_version}"

VOICE_HMI04="CWP-VST02-15"
VOICE_HMI04_CMD="docker run --name voice-hmi04 --net=host -ti -e XVP_APP_ID=voiceapp -e OP_ID=op04 -v sharedVolume:/opt/frequentis/shared -v /usr/lib64/dri:/usr/lib64/dri  -v /lib64/libLLVM-3.6-mesa.so:/lib64/libLLVM-3.6-mesa.so -v /tmp/.X11-unix/:/tmp/.X11-unix -e DISPLAY=:0 -e XVP_DISCOVERY_ADDRESS=DOC-VST02-13:8800 -d --dns=172.17.42.1 $LOCAL_DOCKER_REGISTRY/xvp-voice/voice-hmi-service:${voice_hmi_version}"

VOICE_HMI05="CWP-VST02-16"
VOICE_HMI05_CMD="docker run --name voice-hmi05 --net=host -ti -e XVP_APP_ID=voiceapp -e OP_ID=op05 -v sharedVolume:/opt/frequentis/shared -v /usr/lib64/dri:/usr/lib64/dri  -v /lib64/libLLVM-3.6-mesa.so:/lib64/libLLVM-3.6-mesa.so -v /tmp/.X11-unix/:/tmp/.X11-unix -e DISPLAY=:0 -e XVP_DISCOVERY_ADDRESS=DOC-VST02-13:8800 -d --dns=172.17.42.1 $LOCAL_DOCKER_REGISTRY/xvp-voice/voice-hmi-service:${voice_hmi_version}"
